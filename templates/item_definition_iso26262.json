{
  "metadata": {
    "standard": "ISO 26262-3:2018",
    "clause": "Clause 5",
    "work_product": "5.5.1 – Item definition resulting from requirements in 5.4",
    "version": "2.2",
    "generated_date": "{datetime_now}"
  },
  "system_info": {
    "item_name": "{system_name}",
    "item_id": "{system_id}",
    "description": "{system_description}"
  },
  "sections": {
    "1_introduction": {
      "title": "1. Introduction",
      "clause_ref": "5.1, 5.2",
      "prompt": "Briefly introduce the '{system_name}' per ISO 26262-3:2018. State its primary function, scope within the vehicle, and purpose of this document for functional safety (HARA/Safety Concept). 1-2 sentences.",
      "weight": 0.5,
      "content": ""
    },
    "2_overview": {
      "title": "2. Overview",
      "clause_ref": "5.4.1",
      "subsections": {
        "2_1_vehicle_communication_architecture": {
          "title": "2.1 Vehicle Communication Architecture",
          "clause_ref": "5.4.2 d), f)",
          "prompt": "Concisely list communication protocols (e.g., CAN, LIN) and primary ECUs the '{system_name}' interfaces with. Mention gateway role if applicable. 1-2 bullet points.",
          "weight": 0.3,
          "content": ""
        },
        "2_2_vehicle_relevant_information": {
          "title": "2.2 Vehicle Relevant Information",
          "clause_ref": "5.4.1 d)",
          "prompt": "Briefly state vehicle class (e.g., M1, N1), propulsion type (BEV, ICE), and key performance targets relevant to '{system_name}' (e.g., range, power). 1-2 bullet points.",
          "weight": 0.2,
          "content": ""
        },
        "2_3_vehicle_state_machine": {
          "title": "2.3 Vehicle State Machine",
          "clause_ref": "5.4.1 b)",
          "prompt": "Briefly describe key vehicle states (e.g., Off, Drive, Charge) where '{system_name}' behavior changes. Focus on interaction with the item. 2-3 bullet points.",
          "weight": 0.4,
          "content": ""
        },
        "2_4_item_expected_operation": {
          "title": "2.4 Item Expected Operation",
          "clause_ref": "5.4.1 b), 5.4.2 f)",
          "prompt": "Concisely describe typical operational profile: duty cycle, lifetime (hrs/km), environmental conditions. 2-3 bullet points.",
          "weight": 0.3,
          "content": ""
        },
        "2_5_law_specifications_and_homologation_criteria": {
          "title": "2.5 Law Specifications and Homologation Criteria",
          "clause_ref": "5.4.1 a)",
          "prompt": "List key legal regulations directly impacting '{system_name}' (e.g., UNECE R100). For each, state relevance in 1 sentence. 2-3 bullet points max.",
          "weight": 0.2,
          "content": ""
        },
        "2_6_quality_constraints": {
          "title": "2.6 Quality Constraints",
          "clause_ref": "5.4.1 c)",
          "prompt": "Briefly state critical quality targets (e.g., MTBF > 20,000 hrs, IATF 16949). Quantify where possible. 1-2 bullet points.",
          "weight": 0.2,
          "content": ""
        }
      }
    },
    "3_item_description": {
      "title": "3. Item Description",
      "clause_ref": "5.4.2",
      "subsections": {
        "3_1_item_architecture": {
          "title": "3.1 Item Architecture",
          "clause_ref": "5.4.2 a), e)",
          "prompt": "Describe the internal architecture of the '{system_name}'. Detail main system modules, subsystems, or components and their interactions. Explain how functions are allocated across these system elements. Use clear layer separation (e.g., application layer, driver layer, hardware abstraction layer if applicable). This is essential for understanding safety mechanisms.",
          "weight": 1.0,
          "content": ""
        },
        "3_2_block_diagram": {
          "title": "3.2 Block Diagram",
          "clause_ref": "5.4.2 a)",
          "prompt": "Provide a clear textual description of the '{system_name}' block diagram showing: main system components/modules, internal interfaces, external interfaces, sensors/actuators. This is crucial for understanding the '{system_name}'. Describe the structure clearly.",
          "weight": 0.5,
          "content": ""
        },
        "3_3_item_components": {
          "title": "3.3 Item Components",
          "clause_ref": "5.4.2 a)",
          "prompt": "List main physical and logical components of the '{system_name}' like other ECUs, sensors, actuator, Communication interfaces. For each of them describe: component name, type (e.g., ECU, sensor, actuator), main function. Focus on core elements that define the system.",
          "weight": 0.5,
          "content": ""
        },
        "3_4_item_functions": {
          "title": "3.4 Item Functions",
          "clause_ref": "5.4.1 b)",
          "prompt": " Detail all primary functions of the '{system_name}' at the vehicle level. This is a preliminary list, cause leter a detailed list and explanation for each function will be provided, so at this point be concise. For each explains what the function does, in which conditions and the inputs/outputs. **Exclude:** internal diagnostics, service modes.",
          "weight": 1.0,
          "content": ""
        },
        "3_5_item_state_machine": {
          "title": "3.5 Item State Machine",
          "clause_ref": "5.4.1 b)",
          "prompt": "Describe internal states of the '{system_name}' (e.g., Init, Normal, Fault, Sleep) and transitions. This is distinct from vehicle states and crucial for safety logic.",
          "weight": 0.5,
          "content": ""
        }
      }
    },
    "4_requirements_of_the_item": {
      "title": "4. Requirements of the Item",
      "clause_ref": "5.4.1",
      "subsections": {
        "4_1_functional_behaviour": {
          "title": "4.1 Functional Behaviour at Vehicle Level",
          "clause_ref": "5.4.1 b)",
          "prompt": "Describe the primary functional behavior of the '{system_name}' during key operating modes (Normal, Fault, Degraded). Focus on vehicle-level actions and interactions. For each function, identify it with a name (eg. FF-01 , FF02, etc). For each of them, describe what the function does, how the driver can interact, in which conditions, and the inputs/outputs. **Exclude:** internal diagnostics, service modes.",
          "weight": 1.0,
          "content": ""
        },
        "4_2_performance_requirements": {
          "title": "4.2 Required Quality, Performance, and Availability",
          "clause_ref": "5.4.1 c)",
          "prompt": "Specify critical quantitative performance requirements (accuracy, response time, availability, reliability) for the '{system_name}'. For each, state safety rationale. Focus on safety-relevant metrics.",
          "weight": 0.4,
          "content": ""
        },
        "4_3_constraints": {
          "title": "4.3 Constraints Regarding the Item",
          "clause_ref": "5.4.1 d)",
          "prompt": "List critical constraints of the '{system_name}': environmental (temp, vibration, EMC, IP), functional dependencies (sensors, power, bus), resource limits (power, space, CPU). Briefly state operating range/consequence.",
          "weight": 0.4,
          "content": ""
        },
        "4_4_consequences_of_shortfalls": {
          "title": "4.4 Potential Consequences of Behavioural Shortfalls",
          "clause_ref": "5.4.1 e)",
          "prompt": "For each critical function of the '{system name}', described in 'Functional Behaviour at Vehicle Level' section, describe the potential hazardous event if it fails. Use format: [Malfunction] → [Hazardous Event] → [Potential Harm]. This feeds directly into HARA.",
          "weight": 1.0,
          "content": ""
        },
        "4_5_actuator_capabilities": {
          "title": "4.5 Capabilities of the Actuators",
          "clause_ref": "5.4.1 f)",
          "prompt": "Quantify critical actuation capabilities of the '{system_name}' relevant for HARA (e.g., response times like 'contactor opens in 30ms', force limits). Provide specific numbers.",
          "weight": 0.5,
          "content": ""
        }
      }
    },
    "5_boundary_and_interfaces": {
      "title": "5. Boundary of the Item, Interfaces, and Interaction Assumptions",
      "clause_ref": "5.4.2",
      "subsections": {
        "5_1_elements_of_item": {
          "title": "5.1 Elements of the Item",
          "clause_ref": "5.4.2 a)",
          "prompt": "Clearly define the boundary of the '{system_name}'. List all system components (like other ECUs, Communication interfaces, sensors, actuators). Explicitly state what is EXCLUDED (e.g., battery cells if BMS, external cloud services). Essential for safety responsibility.",
          "weight": 1.0,
          "content": ""
        },
        "5_2_assumptions_on_vehicle_effects": {
          "title": "5.2 Assumptions Concerning Effects on the Vehicle",
          "clause_ref": "5.4.2 b)",
          "prompt": "State critical assumptions about vehicle/driver response to '{system_name}' outputs (e.g., 'Driver reacts to warning in 2s'). These support HARA scenarios.",
          "weight": 0.5,
          "content": ""
        },
        "5_3_functionality_required_by_others": {
          "title": "5.3 Functionality Required by Other Items",
          "clause_ref": "5.4.2 c)",
          "prompt": "List key functions/data provided by the '{system_name}' to other systems (e.g., SoC to VCU). Focus on safety-critical outputs.",
          "weight": 0.2,
          "content": ""
        },
        "5_4_dependencies_on_other_items": {
          "title": "5.4 Functionality of Other Items Required by This Item",
          "clause_ref": "5.4.2 d)",
          "prompt": "List key functions/data required by the '{system_name}' from other systems (e.g., VCU mode signal). Focus on critical dependencies.",
          "weight": 0.2,
          "content": ""
        },
        "5_5_function_allocation": {
          "title": "5.5 Allocation and Distribution of Functions",
          "clause_ref": "5.4.2 e)",
          "prompt": "Briefly explain how safety-critical functions are distributed across the components or subsystems of the '{system_name}' and potentially other vehicle systems. 1-2 bullet points.",
          "weight": 0.5,
          "content": ""
        },
        "5_6_operational_scenarios": {
          "title": "5.6 Operational Scenarios Impacting Functionality",
          "clause_ref": "5.4.2 f)",
          "prompt": "List a few key operational scenarios (e.g., fast charging, collision) that significantly impact the '{system_name}' safety considerations. These inform HARA.",
          "weight": 0.4,
          "content": ""
        }
      }
    },
    "6_open_points": {
      "title": "6. Open Points",
      "clause_ref": "5.4.7",
      "prompt": "List unresolved issues or critical assumptions for the '{system_name}'. Keep to essential items.",
      "weight": 0.1,
      "content": ""
    },
    "7_proven_in_use_candidate": {
      "title": "7. Proven in Use Argument",
      "clause_ref": "ISO 26262-8:2018, Clause 12",
      "prompt": "State if the '{system_name}' (or parts) is a 'Proven in Use' candidate. If yes, outline components and field data. If no, state 'Not applicable - new development'. Concise.",
      "weight": 0.1,
      "content": ""
    },
    "8_seooc_development": {
      "title": "8. SEooC Development Context",
      "clause_ref": "ISO 26262-8:2018, Clause 13",
      "prompt": "If the '{system_name}' is developed as a Safety Element out of Context (SEooC), specify integration environment and assumptions. If not, state 'Not applicable - developed for specific vehicle platform'. Concise.",
      "weight": 0.1,
      "content": ""
    },
    "9_component_reuse": {
      "title": "9. Component Reuse",
      "clause_ref": "ISO 26262-8:2018, Clause 14",
      "prompt": "Identify any reused components for the '{system_name}'. If none, state 'All components are new development'. If yes, list key ones and justification briefly.",
      "weight": 0.1,
      "content": ""
    },
    "10_preliminary_failure_modes": {
      "title": "10. Preliminary Failure Modes and Potential Effects",
      "clause_ref": "5.4.1 e)",
      "prompt": "Identify the most critical failure modes of the '{system_name}' and their item-level effects. Use FMEA format: Component | Failure Mode | Item-Level Effect. Focus on high-probability or high-severity modes.",
      "weight": 1.5,
          "content": ""
    },
    "11_abbreviations_and_references": {
      "title": "11. Abbreviations and References",
      "clause_ref": "General Documentation",
      "prompt": "List all abbreviations used in this document (e.g., BMS, SoC). List key standards, regulations, and internal documents referenced (e.g., ISO 26262-3:2018). Concise.",
      "weight": 0.1,
      "content": ""
    },
    "12_conclusion": {
      "title": "12. Conclusion",
      "clause_ref": "5.4.7",
      "prompt": "Confirm this document satisfies ISO 26262-3:2018 Clause 5.4 and enables HARA/Safety Concept. 1 sentence.",
      "weight": 0.1,
      "content": ""
    },
    "13_approvals": {
      "title": "13. Approvals",
      "clause_ref": "ISO 26262-8:2018, Clause 6",
      "prompt": "Include a placeholder approval table (Role, Name, Signature, Date) for key stakeholders (FSM - Functional Safety Manager, SA - System Architect, PM - Project Manager, QA - Quality Assurance). Mention document requires approval.",
      "weight": 0.1,
      "content": ""
    }
  }
}